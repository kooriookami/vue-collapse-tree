import{r as u,o as V,c as L,a as v,b as A,w as a,d as l,e as _,f as U,m as z,g as y,p as D,h as K,t as j,i as S,j as q,k as H,l as I,n as F,q as b,s as P,u as M,v as G,x as J,y as Q,z as W,A as X,B as Y}from"./vendor.4211d153.js";const Z=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function d(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerpolicy&&(s.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?s.credentials="include":e.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(e){if(e.ep)return;e.ep=!0;const s=d(e);fetch(e.href,s)}};Z();var w=(r,t)=>{const d=r.__vccOpts||r;for(const[o,e]of t)d[o]=e;return d};const ee={name:"Example",data(){return{form:{line:!0,lineOffsetHeight:20,lineOffsetTop:20,defaultExpandedLevel:1,indent:40,iconPlaceholder:!0},key:0}},methods:{refresh(){this.key++}}},te={class:"example-container"},ne={class:"examples"},le=_(" 1-1 "),oe=_(" 1-1-1 "),se=_(" 1-2 "),ae=_("1-2-1"),re=_("1-2-1-1"),ie={class:"form"},de=_("\u54CD\u5E94\u5F0F\u5C5E\u6027"),ce=_("\u975E\u54CD\u5E94\u5F0F\u5C5E\u6027"),ue={class:"button-group"},pe=_("\u91CD\u65B0\u6E32\u67D3");function fe(r,t,d,o,e,s){const i=u("collapse-tree-item"),m=u("el-button"),N=u("el-tag"),E=u("el-alert"),k=u("collapse-tree"),O=u("el-divider"),g=u("el-switch"),f=u("el-form-item"),C=u("el-slider"),$=u("el-input-number"),B=u("el-form");return V(),L("div",te,[v("div",ne,[(V(),A(k,{key:e.key,line:e.form.line,"line-offset-height":e.form.lineOffsetHeight,"line-offset-top":e.form.lineOffsetTop,"default-expanded-level":e.form.defaultExpandedLevel,indent:e.form.indent,"icon-placeholder":e.form.iconPlaceholder},{default:a(()=>[l(i,null,{header:a(()=>[le]),default:a(()=>[l(i,null,{header:a(()=>[oe]),_:1})]),_:1}),l(i,null,{header:a(()=>[se]),default:a(()=>[l(i,null,{header:a(()=>[l(m,null,{default:a(()=>[ae]),_:1})]),default:a(()=>[l(i,null,{header:a(()=>[l(N,null,{default:a(()=>[re]),_:1})]),_:1})]),_:1}),l(i,null,{header:a(()=>[l(E,{title:"1-2-2",type:"success",effect:"dark",closable:!1})]),_:1})]),_:1})]),_:1},8,["line","line-offset-height","line-offset-top","default-expanded-level","indent","icon-placeholder"]))]),v("div",ie,[l(B,{"label-width":"auto"},{default:a(()=>[l(O,null,{default:a(()=>[de]),_:1}),l(f,{label:"\u5C42\u7EA7\u7EBF"},{default:a(()=>[l(g,{modelValue:e.form.line,"onUpdate:modelValue":t[0]||(t[0]=c=>e.form.line=c)},null,8,["modelValue"])]),_:1}),l(f,{label:"\u5C42\u7EA7\u7F29\u8FDB"},{default:a(()=>[l(C,{modelValue:e.form.indent,"onUpdate:modelValue":t[1]||(t[1]=c=>e.form.indent=c)},null,8,["modelValue"])]),_:1}),l(f,{label:"\u7A7A\u56FE\u6807\u5360\u4F4D"},{default:a(()=>[l(g,{modelValue:e.form.iconPlaceholder,"onUpdate:modelValue":t[2]||(t[2]=c=>e.form.iconPlaceholder=c)},null,8,["modelValue"])]),_:1}),l(O,null,{default:a(()=>[ce]),_:1}),l(f,{label:"\u7EBF\u9AD8\u5EA6\u504F\u79FB"},{default:a(()=>[l(C,{modelValue:e.form.lineOffsetHeight,"onUpdate:modelValue":t[3]||(t[3]=c=>e.form.lineOffsetHeight=c)},null,8,["modelValue"])]),_:1}),l(f,{label:"\u7EBF\u8DDD\u9876\u504F\u79FB"},{default:a(()=>[l(C,{modelValue:e.form.lineOffsetTop,"onUpdate:modelValue":t[4]||(t[4]=c=>e.form.lineOffsetTop=c)},null,8,["modelValue"])]),_:1}),l(f,{label:"\u9ED8\u8BA4\u5C55\u5F00\u5C42\u7EA7"},{default:a(()=>[l($,{modelValue:e.form.defaultExpandedLevel,"onUpdate:modelValue":t[5]||(t[5]=c=>e.form.defaultExpandedLevel=c),min:0,precision:"0"},null,8,["modelValue"])]),_:1})]),_:1}),v("div",ue,[l(m,{style:{width:"100%"},type:"primary",onClick:s.refresh},{default:a(()=>[pe]),_:1},8,["onClick"])])])])}var _e=w(ee,[["render",fe],["__scopeId","data-v-5e384557"]]);const me=U({name:"App",components:{Example:_e}}),he={class:"app-container"};function ve(r,t,d,o,e,s){const i=u("Example");return V(),L("div",he,[l(i)])}var ge=w(me,[["render",ve]]);const R=z();const Ce={name:"CollapseTree",props:{line:{type:Boolean,default:!0},lineOffsetHeight:{type:Number,default:20},lineOffsetTop:{type:Number,default:20},defaultExpandedLevel:{type:Number,default:1},indent:{type:Number,default:40},iconPlaceholder:{type:Boolean,default:!0}},setup(r){const t=y(),d=y(null);D("collapseTreeKey",K(j(r)));const o=()=>{R.emit("update")};return S(()=>{t.value=q(),t.value.listenTo(d.value,()=>{o()})}),H(()=>{t.value.removeAllListeners(d.value)}),{root:d}}},ye={ref:"root",class:"collapse-tree"};function Te(r,t,d,o,e,s){return V(),L("div",ye,[I(r.$slots,"default",{},void 0,!0)],512)}var be=w(Ce,[["render",Te],["__scopeId","data-v-a52dc912"]]);const Ve={name:"CollapseTreeItem",components:{CaretRight:F},props:{show:{type:Boolean,default:!1}},setup(r,{slots:t}){const d=Q(),o=J("collapseTreeKey"),e=y(null),s=y(!1),i=y(0),m=y(0),N=b(()=>r.show),E=()=>{s.value=N.value||$.value<=o.defaultExpandedLevel},k=()=>{const n=g();if(!n)return;const p=n.type.name,h=n.vnode.el.getBoundingClientRect(),T=d.vnode.el.getBoundingClientRect();p==="CollapseTreeItem"&&(i.value=T.top-h.top-o.lineOffsetHeight,m.value=T.height-o.lineOffsetTop)},O=()=>{s.value=!s.value},g=(n=d)=>{var h;const p=(h=n==null?void 0:n.parent)==null?void 0:h.type.name;return["CollapseTree","CollapseTreeItem"].includes(p)?n.parent:(n==null?void 0:n.parent)?g(n.parent):null},f=(n=d,p=1)=>{var T;const h=(T=n==null?void 0:n.parent)==null?void 0:T.type.name;return h==="CollapseTree"?p:(n==null?void 0:n.parent)?(h==="CollapseTreeItem"&&(p+=1),f(n.parent,p)):null},C=b(()=>{const n=g();return(n==null?void 0:n.type.name)==="CollapseTree"}),$=b(()=>f()),B=b(()=>({paddingLeft:C.value?"0":`${o.indent}px`,"--line-display":o.line&&!C.value?"block":"none","--line-height":`${i.value}px`,"--line-width":`${o.indent/2}px`,"--line-left":`${o.indent/2}px`,"--item-height":`${m.value}px`})),c=b(()=>{var p;const n=!!((p=t.default)==null?void 0:p.call(t));return{cursor:n?"pointer":"",transform:s.value?"rotate(90deg)":"",visibility:n?"":"hidden",display:n||o.iconPlaceholder?"":"none"}});return S(()=>{E(),R.on("update",k)}),H(()=>{R.off("update",k)}),{item:e,showContent:s,itemStyle:B,iconStyle:c,handleClickIcon:O}}},ke={class:"collapse-header"},Oe={class:"header-content"},Ie={class:"collapse-content"};function Le(r,t,d,o,e,s){const i=u("CaretRight");return V(),L("div",{ref:"item",class:"collapse-tree-item",style:P(o.itemStyle)},[v("div",ke,[v("div",{class:"header-icon",style:P(o.iconStyle),onClick:t[0]||(t[0]=(...m)=>o.handleClickIcon&&o.handleClickIcon(...m))},[I(r.$slots,"icon",{},()=>[l(i,{class:"collapse-icon"})],!0)],4),v("div",Oe,[I(r.$slots,"header",{},void 0,!0)])]),M(v("div",Ie,[I(r.$slots,"default",{},void 0,!0)],512),[[G,o.showContent]])],4)}var we=w(Ve,[["render",Le],["__scopeId","data-v-26f1c488"]]),Ne={install:r=>{r.component("CollapseTree",be),r.component("CollapseTreeItem",we)}};const x=W(ge);x.use(X,{locale:Y});x.use(Ne);x.mount("#app");
